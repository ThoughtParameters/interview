{"version":3,"file":"component---src-pages-exam-js.js","mappings":"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","sources":["webpack://gatsby-starter-hello-world/./src/components/PrivateRoute.js","webpack://gatsby-starter-hello-world/./src/components/header.js","webpack://gatsby-starter-hello-world/./src/components/cookie-consent.js","webpack://gatsby-starter-hello-world/./src/components/layout.js","webpack://gatsby-starter-hello-world/./src/hooks/use-site-metadata.js","webpack://gatsby-starter-hello-world/./src/components/seo.js","webpack://gatsby-starter-hello-world/./src/pages/exam/[...].js"],"sourcesContent":["import React from 'react';\nimport { navigate } from 'gatsby';\nimport { useAuth } from '../context/AuthContext';\n\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return <p>Loading...</p>; // Or a spinner component\n  }\n\n  if (!user) {\n    // If we’re not on the client side, don’t redirect\n    if (typeof window !== 'undefined') {\n      navigate('/login');\n    }\n    return null;\n  }\n\n  return <Component {...rest} />;\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport { useAuth } from '../context/AuthContext';\n\nconst Header = () => {\n  const { user, signOut } = useAuth();\n\n  return (\n    <header className=\"bg-gray-800 mb-6\">\n      <div className=\"container mx-auto px-6 py-4 flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold text-white\">\n          <Link to=\"/\" className=\"text-white no-underline\">\n            Thought Parameters\n          </Link>\n        </h1>\n        <nav>\n          <Link to=\"/blog\" className=\"text-white ml-5 no-underline\">\n            Blog\n          </Link>\n          <Link to=\"/learn\" className=\"text-white ml-5 no-underline\">\n            Learn\n          </Link>\n          <Link to=\"/exams\" className=\"text-white ml-5 no-underline\">\n            Exams\n          </Link>\n          {user ? (\n            <>\n              <Link to=\"/profile\" className=\"text-white ml-5 no-underline\">\n                Profile\n              </Link>\n              <button\n                onClick={signOut}\n                className=\"text-white ml-5 no-underline bg-transparent border-none cursor-pointer\"\n              >\n                Logout\n              </button>\n            </>\n          ) : (\n            <Link to=\"/login\" className=\"text-white ml-5 no-underline\">\n              Login\n            </Link>\n          )}\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport CookieConsent from 'react-cookie-consent';\n\nconst CookieConsentBanner = () => {\n  return (\n    <CookieConsent\n      location=\"bottom\"\n      buttonText=\"Accept\"\n      cookieName=\"gatsby-gdpr-google-analytics\"\n      style={{ background: '#2B373B' }}\n      buttonStyle={{ color: '#4e503b', fontSize: '13px' }}\n      expires={150}\n    >\n      This website uses cookies to enhance the user experience.\n    </CookieConsent>\n  );\n};\n\nexport default CookieConsentBanner;\n","import React from 'react';\nimport Header from './header';\nimport CookieConsentBanner from './cookie-consent';\nimport '../styles/global.css';\n\nconst Layout = ({ children }) => {\n  return (\n    <div className=\"bg-gray-900 text-white min-h-screen\">\n      <Header />\n      <main className=\"container mx-auto px-6 py-8\">{children}</main>\n      <CookieConsentBanner />\n    </div>\n  );\n};\n\nexport default Layout;\n","import { useStaticQuery, graphql } from 'gatsby';\n\nexport const useSiteMetadata = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n          description\n          twitterUsername\n          image\n          siteUrl\n        }\n      }\n    }\n  `);\n\n  return data.site.siteMetadata;\n};\n","import React from 'react';\nimport { useSiteMetadata } from '../hooks/use-site-metadata';\n\nexport const SEO = ({ title, description, pathname, children }) => {\n  const { title: defaultTitle, description: defaultDescription, image, siteUrl, twitterUsername } = useSiteMetadata();\n\n  const seo = {\n    title: title || defaultTitle,\n    description: description || defaultDescription,\n    image: `${siteUrl}${image}`,\n    url: `${siteUrl}${pathname || ``}`,\n    twitterUsername,\n  };\n\n  return (\n    <>\n      <title>{seo.title}</title>\n      <meta name=\"description\" content={seo.description} />\n      <meta name=\"image\" content={seo.image} />\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\n      <meta name=\"twitter:title\" content={seo.title} />\n      <meta name=\"twitter:url\" content={seo.url} />\n      <meta name=\"twitter:description\" content={seo.description} />\n      <meta name=\"twitter:image\" content={seo.image} />\n      <meta name=\"twitter:creator\" content={seo.twitterUsername} />\n      <link rel=\"icon\" href=\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>👤</text></svg>\" />\n      {children}\n    </>\n  );\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport Layout from '../../components/layout';\nimport { SEO } from '../../components/seo';\nimport PrivateRoute from '../../components/PrivateRoute';\nimport { Router, navigate } from '@reach/router';\nimport { useAuth } from '../../context/AuthContext';\nimport { getSupabase } from '../../utils/supabase';\n\nconst ExamContent = ({ exam_slug }) => {\n  const { user } = useAuth();\n  const [exam, setExam] = useState(null);\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [startTime, setStartTime] = useState(null);\n  const [time, setTime] = useState(0);\n  const timerRef = useRef(null);\n\n  useEffect(() => {\n    const fetchExamAndQuestions = async () => {\n      try {\n        const supabase = getSupabase();\n        // Fetch exam details to get the ID\n        const { data: examData, error: examError } = await supabase\n          .from('exams')\n          .select('id, name')\n          .eq('slug', exam_slug)\n          .single();\n        if (examError) throw examError;\n        setExam(examData);\n\n        // Fetch questions\n        const response = await fetch(\n          `https://interviewapi.thoughtparameters.com/questions/${exam_slug}`\n        );\n        if (!response.ok) throw new Error('Failed to fetch questions');\n        const questionsData = await response.json();\n        setQuestions(questionsData);\n        setStartTime(Date.now());\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchExamAndQuestions();\n  }, [exam_slug]);\n\n  useEffect(() => {\n    if (startTime) {\n      timerRef.current = setInterval(() => {\n        setTime(Math.floor((Date.now() - startTime) / 1000));\n      }, 1000);\n    }\n    return () => clearInterval(timerRef.current);\n  }, [startTime]);\n\n  const handleAnswerChange = (questionId, answerId) => {\n    setAnswers({ ...answers, [questionId]: answerId });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    clearInterval(timerRef.current);\n    const duration_seconds = Math.floor((Date.now() - startTime) / 1000);\n\n    const submission = {\n      exam_id: exam.id,\n      answers: Object.entries(answers).map(([question_id, answer_id]) => ({\n        question_id,\n        answer_id,\n      })),\n      duration_seconds,\n    };\n\n    try {\n      const supabase = getSupabase();\n      const { data: session, error: sessionError } = await supabase.auth.getSession();\n      if (sessionError) throw sessionError;\n\n      const response = await fetch('https://interviewapi.thoughtparameters.com/submit-exam', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${session.session.access_token}`,\n        },\n        body: JSON.stringify(submission),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit exam');\n      const result = await response.json();\n      navigate('/exam-results', { state: result });\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <>\n      <SEO title={`Exam: ${exam?.name || exam_slug}`} />\n      <h1 className=\"text-3xl font-bold mb-4\">Certification Exam: {exam?.name || exam_slug}</h1>\n      <div className=\"fixed top-4 right-4 bg-gray-800 p-2 rounded\">\n        Time: {new Date(time * 1000).toISOString().substr(11, 8)}\n      </div>\n      {loading && <p>Loading questions...</p>}\n      {error && <p className=\"text-red-500\">{error}</p>}\n      <form onSubmit={handleSubmit}>\n        {questions.map((q) => (\n          <div key={q.id} className=\"mb-8\">\n            <p className=\"font-bold\">{q.question_text}</p>\n            <div className=\"mt-2 space-y-2\">\n              {q.answers.map((a) => (\n                <label key={a.id} className=\"flex items-center\">\n                  <input\n                    type=\"radio\"\n                    name={q.id}\n                    value={a.id}\n                    onChange={() => handleAnswerChange(q.id, a.id)}\n                    className=\"mr-2\"\n                  />\n                  {a.answer_text}\n                </label>\n              ))}\n            </div>\n          </div>\n        ))}\n        <button\n          type=\"submit\"\n          className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded\"\n        >\n          Submit Exam\n        </button>\n      </form>\n    </>\n  );\n};\n\nconst ExamPage = () => {\n  return (\n    <Layout>\n      <Router basepath=\"/exam\">\n        <PrivateRoute component={ExamContent} path=\"/:exam_slug\" />\n      </Router>\n    </Layout>\n  );\n};\n\nexport default ExamPage;\n"],"names":["React","navigate","useAuth","PrivateRoute","component","Component","location","rest","user","loading","window","Link","Header","signOut","CookieConsent","CookieConsentBanner","background","color","fontSize","Layout","children","useStaticQuery","useSiteMetadata","data","site","siteMetadata","SEO","title","description","pathname","defaultTitle","defaultDescription","image","siteUrl","twitterUsername","seo","url","useState","useEffect","useRef","Router","getSupabase","ExamContent","exam_slug","exam","setExam","questions","setQuestions","answers","setAnswers","setLoading","error","setError","startTime","setStartTime","time","setTime","timerRef","fetchExamAndQuestions","supabase","examData","examError","from","select","eq","single","response","fetch","ok","Error","questionsData","json","Date","now","err","message","current","setInterval","Math","floor","clearInterval","handleAnswerChange","questionId","answerId","handleSubmit","e","preventDefault","duration_seconds","submission","exam_id","id","Object","entries","map","question_id","answer_id","session","sessionError","auth","getSession","method","headers","Authorization","access_token","body","JSON","stringify","result","state","name","toISOString","substr","q","question_text","a","answer_text","ExamPage"],"sourceRoot":""}